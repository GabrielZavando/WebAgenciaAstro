// =========================
// Root - Variables CSS globales con soporte para temas
// =========================
// Sistema de temas usando custom properties y data attributes

@use '../config' as *;

:root {
  /* Colores de marca */
  --color-primary: #{color(primary)};
  --color-secondary: #{color(secondary)};
  --color-accent: #{color(accent)};
  --color-dark: #{color(dark)};
  --color-white: #{color(white)};
  --color-neutral: #{color(neutral)};
  
  /* Espaciado */
  --space-xs: #{space(xs)};
  --space-sm: #{space(sm)};
  --space-md: #{space(md)};
  --space-lg: #{space(lg)};
  --space-xl: #{space(xl)};
  --space-2xl: #{space(2xl)};
  
  /* Padding de componentes */
  --padding-btn: #{padding(btn)};
  --padding-btn-sm: #{padding(btn-sm)};
  --padding-btn-lg: #{padding(btn-lg)};
  --padding-card: #{padding(card)};
  --padding-section: #{padding(section)};
  --padding-container: #{padding(container)};
  
  /* Z-Index */
  --z-behind: #{token(z-index, behind)};
  --z-background: #{token(z-index, background)};
  --z-base: #{token(z-index, base)};
  --z-content: #{token(z-index, content)};
  --z-dropdown: #{token(z-index, dropdown)};
  --z-sticky: #{token(z-index, sticky)};
  --z-overlay: #{token(z-index, overlay)};
  --z-header: #{token(z-index, header)};
  --z-nav-mobile: #{token(z-index, nav-mobile)};
  --z-nav-toggle: #{token(z-index, nav-toggle)};
  --z-modal: #{token(z-index, modal)};
  --z-popover: #{token(z-index, popover)};
  --z-tooltip: #{token(z-index, tooltip)};
  
  /* Transiciones */
  --transition-fast: #{token(transitions, fast)};
  --transition-normal: #{token(transitions, normal)};
  --transition-slow: #{token(transitions, slow)};
  
  /* Sombras */
  --shadow-sm: #{token(shadows, sm)};
  --shadow-md: #{token(shadows, md)};
  --shadow-lg: #{token(shadows, lg)};
  --shadow-xl: #{token(shadows, xl)};
  
  /* Logo */
  --logo-size: #{token(logo, size)};
  --logo-size-full: #{token(logo, size-full)};
  
  /* Fuentes */
  --font-primary: 'Open Sans', system-ui, sans-serif;
  --font-headings: 'Montserrat', system-ui, sans-serif;
  
  /* Variables contextuales para navegación */
  --nav-mobile-breakpoint: 1024px;
  --nav-transition: all 0.3s ease;
  --nav-hamburger-color: var(--color-nav-hamburger-default);
  --nav-link-color: var(--color-nav-link-default);
  
  /* Header heights - Para scroll suave */
  --header-height-mobile: 30px;
  --header-height-desktop: 45px;
  
  /* Scroll padding para navegación suave */
  scroll-padding-top: var(--header-height-mobile);
  
  @media (min-width: #{$breakpoint-md}) {
    scroll-padding-top: var(--header-height-desktop);
  }
}

/* Tema claro (por defecto) */
:root,
:root[data-theme="light"] {
  --color-body: #{color(body)};
  --color-surface: #{color(surface)};
  --color-surface-secondary: #{color(surface-secondary)};
  --color-text: #{color(text)};
  --color-text-secondary: #{color(text-secondary)};
  --color-text-muted: #{color(text-muted)};
  --color-input-text: #{color(input-text)};
  --color-border: #{color(border)};
  --color-border-secondary: #{color(border-secondary)};
  
  /* Botones tema claro */
  --btn-primary-bg: #{color(btn-primary-bg)};
  --btn-primary-text: #{color(btn-primary-text)};
  --btn-primary-hover: #{color(btn-primary-hover)};
  --btn-secondary-bg: #{color(btn-secondary-bg)};
  --btn-secondary-text: #{color(btn-secondary-text)};
  --btn-secondary-border: #{color(btn-secondary-border)};
  --btn-secondary-hover: #{color(btn-secondary-hover)};
  
  /* Estados */
  --color-success: #{color(success)};
  --color-error: #{color(error)};
  --color-warning: #{color(warning)};
  --color-info: #{color(info)};
  
  /* Header específicos */
  --color-nav-bg: #{color(nav-bg)};
  --color-background: #{color(background)};
  --color-secondary-dark: #{color(secondary-dark)};
  /* Banner overlay */
  --banner-overlay-start: #{color(banner-overlay-start)};
  --banner-overlay-end: #{color(banner-overlay-end)};
  
  /* Variables contextuales navegación - tema claro */
  --color-nav-hamburger-default: #{color(nav-hamburger-default)};
  --color-nav-hamburger-scrolled: #{color(nav-hamburger-scrolled)};
  --color-nav-hamburger-active: #{color(nav-hamburger-active)};
  --color-nav-link-default: #{color(nav-link-default)};
  --color-nav-link-scrolled: #{color(nav-link-scrolled)};
  
  /* Footer específico para tema claro */
  --color-footer-link-light: #{color(white)};
}

/* Tema oscuro */
:root[data-theme="dark"] {
  --color-body: #{color(body, dark)};
  --color-surface: #{color(surface, dark)};
  --color-surface-secondary: #{color(surface-secondary, dark)};
  --color-text: #{color(text, dark)};
  --color-text-secondary: #{color(text-secondary, dark)};
  --color-text-muted: #{color(text-muted, dark)};
  --color-input-text: #{color(input-text, dark)};
  --color-border: #{color(border, dark)};
  --color-border-secondary: #{color(border-secondary, dark)};
  
  /* Botones tema oscuro (mismos valores) */
  --btn-primary-bg: #{color(btn-primary-bg, dark)};
  --btn-primary-text: #{color(btn-primary-text, dark)};
  --btn-primary-hover: #{color(btn-primary-hover, dark)};
  --btn-secondary-bg: #{color(btn-secondary-bg, dark)};
  --btn-secondary-text: #{color(btn-secondary-text, dark)};
  --btn-secondary-border: #{color(btn-secondary-border, dark)};
  --btn-secondary-hover: #{color(btn-secondary-hover, dark)};
  
  /* Header específicos tema oscuro */
  --color-nav-bg: #{color(nav-bg, dark)};
  --color-background: #{color(background, dark)};
  --color-secondary-dark: #{color(secondary-dark, dark)};
  /* Banner overlay (tema oscuro) */
  --banner-overlay-start: #{color(banner-overlay-start, dark)};
  --banner-overlay-end: #{color(banner-overlay-end, dark)};
  
  /* Variables contextuales navegación - tema oscuro */
  --color-nav-hamburger-default: #{color(nav-hamburger-default, dark)};
  --color-nav-hamburger-scrolled: #{color(nav-hamburger-scrolled, dark)};
  --color-nav-hamburger-active: #{color(nav-hamburger-active, dark)};
  --color-nav-link-default: #{color(nav-link-default, dark)};
  --color-nav-link-scrolled: #{color(nav-link-scrolled, dark)};
}

// =========================
// ESTADOS CONTEXTUALES
// =========================
// Clases que modifican las variables contextuales según el estado

// Cuando el header tiene scroll (fondo sólido)
.header.scrolled {
  --nav-hamburger-color: var(--color-nav-hamburger-scrolled);
  --nav-link-color: var(--color-nav-link-scrolled);
}

// Cuando el menú móvil está activo (clase añadida por JavaScript)
body.menu-active {
  --nav-hamburger-color: var(--color-nav-hamburger-active);
}

// Clase helper para ocultar hamburguesa en desktop (desde 1200px)
@media (min-width: $breakpoint-lg) {
  .nav-toggle {
    display: none !important;
  }
}
