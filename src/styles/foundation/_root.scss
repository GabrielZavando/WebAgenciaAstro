// =========================
// Root - Variables CSS globales con soporte para temas
// =========================
// Sistema de temas usando custom properties y data attributes

@use '../config' as *;

:root {
  /* Colores de marca */
  --color-primary: #{color(primary)};
  --color-secondary: #{color(secondary)};
  --color-accent: #{color(accent)};
  --color-dark: #{color(dark)};
  --color-white: #{color(white)};
  --color-neutral: #{color(neutral)};
  
  /* Espaciado */
  --space-xs: #{space(xs)};
  --space-sm: #{space(sm)};
  --space-md: #{space(md)};
  --space-lg: #{space(lg)};
  --space-xl: #{space(xl)};
  --space-2xl: #{space(2xl)};
  
  /* Padding de componentes */
  --padding-btn: #{padding(btn)};
  --padding-btn-sm: #{padding(btn-sm)};
  --padding-btn-lg: #{padding(btn-lg)};
  --padding-card: #{padding(card)};
  --padding-section: #{padding(section)};
  --padding-container: #{padding(container)};
  
  /* Z-Index */
  --z-behind: #{token(z-index, behind)};
  --z-background: #{token(z-index, background)};
  --z-base: #{token(z-index, base)};
  --z-content: #{token(z-index, content)};
  --z-dropdown: #{token(z-index, dropdown)};
  --z-sticky: #{token(z-index, sticky)};
  --z-overlay: #{token(z-index, overlay)};
  --z-header: #{token(z-index, header)};
  --z-nav-mobile: #{token(z-index, nav-mobile)};
  --z-nav-toggle: #{token(z-index, nav-toggle)};
  --z-modal: #{token(z-index, modal)};
  --z-popover: #{token(z-index, popover)};
  --z-tooltip: #{token(z-index, tooltip)};
  
  /* Transiciones */
  --transition-fast: #{token(transitions, fast)};
  --transition-normal: #{token(transitions, normal)};
  --transition-slow: #{token(transitions, slow)};
  
  /* Sombras */
  --shadow-sm: #{token(shadows, sm)};
  --shadow-md: #{token(shadows, md)};
  --shadow-lg: #{token(shadows, lg)};
  --shadow-xl: #{token(shadows, xl)};
  
  /* Logo */
  --logo-size: #{token(logo, size)};
  --logo-size-full: #{token(logo, size-full)};
  
  /* Fuentes */
  --font-primary: 'Open Sans', system-ui, sans-serif;
  --font-headings: 'Montserrat', system-ui, sans-serif;
  
  /* Variables contextuales para navegación */
  --nav-mobile-breakpoint: 1024px;
  --nav-transition: all 0.3s ease;
  --nav-hamburger-color: var(--color-nav-hamburger-default);
  --nav-link-color: var(--color-nav-link-default);
  
  /* Header heights - Para scroll suave */
  --header-height-mobile: 30px;
  --header-height-desktop: 45px;
  
  /* Scroll padding para navegación suave */
  scroll-padding-top: var(--header-height-mobile);
  
  @media (min-width: #{$breakpoint-md}) {
    scroll-padding-top: var(--header-height-desktop);
  }
}

/* Tema claro (por defecto) */
:root,
:root[data-theme="light"] {
  --color-body: #{color(body)};
  --color-surface: #{color(surface)};
  --color-surface-secondary: #{color(surface-secondary)};
  --color-text: #{color(text)};
  --color-text-secondary: #{color(text-secondary)};
  --color-text-muted: #{color(text-muted)};
  --color-input-text: #{color(input-text)};
  --color-border: #{color(border)};
  --color-border-secondary: #{color(border-secondary)};
  
  /* Botones tema claro */
  --btn-primary-bg: #{color(btn-primary-bg)};
  --btn-primary-text: #{color(btn-primary-text)};
  --btn-primary-hover: #{color(btn-primary-hover)};
  --btn-secondary-bg: #{color(btn-secondary-bg)};
  --btn-secondary-text: #{color(btn-secondary-text)};
  --btn-secondary-border: #{color(btn-secondary-border)};
  --btn-secondary-hover: #{color(btn-secondary-hover)};
  
  /* Estados */
  --color-success: #{color(success)};
  --color-error: #{color(error)};
  --color-warning: #{color(warning)};
  --color-info: #{color(info)};
  
  /* Header específicos */
  --color-nav-bg: #{color(nav-bg)};
  --color-background: #{color(background)};
  --color-secondary-dark: #{color(secondary-dark)};
  /* Banner overlay */
  --banner-overlay-start: #{color(banner-overlay-start)};
  --banner-overlay-end: #{color(banner-overlay-end)};
  
  /* Variables contextuales navegación - tema claro */
  --color-nav-hamburger-default: #{color(nav-hamburger-default)};
  --color-nav-hamburger-scrolled: #{color(nav-hamburger-scrolled)};
  --color-nav-hamburger-active: #{color(nav-hamburger-active)};
  --color-nav-link-default: #{color(nav-link-default)};
  --color-nav-link-scrolled: #{color(nav-link-scrolled)};
  
  /* Footer específico para tema claro */
  --color-footer-link-light: #{color(white)};
}

/* Tema oscuro */
:root[data-theme="dark"] {
  --color-body: #{color(body, dark)};
  --color-surface: #{color(surface, dark)};
  --color-surface-secondary: #{color(surface-secondary, dark)};
  --color-text: #{color(text, dark)};
  --color-text-secondary: #{color(text-secondary, dark)};
  --color-text-muted: #{color(text-muted, dark)};
  --color-input-text: #{color(input-text, dark)};
  --color-border: #{color(border, dark)};
  --color-border-secondary: #{color(border-secondary, dark)};
  
  /* Botones tema oscuro (mismos valores) */
  --btn-primary-bg: #{color(btn-primary-bg, dark)};
  --btn-primary-text: #{color(btn-primary-text, dark)};
  --btn-primary-hover: #{color(btn-primary-hover, dark)};
  --btn-secondary-bg: #{color(btn-secondary-bg, dark)};
  --btn-secondary-text: #{color(btn-secondary-text, dark)};
  --btn-secondary-border: #{color(btn-secondary-border, dark)};
  --btn-secondary-hover: #{color(btn-secondary-hover, dark)};
  
  /* Header específicos tema oscuro */
  --color-nav-bg: #{color(nav-bg, dark)};
  --color-background: #{color(background, dark)};
  --color-secondary-dark: #{color(secondary-dark, dark)};
  /* Banner overlay (tema oscuro) */
  --banner-overlay-start: #{color(banner-overlay-start, dark)};
  --banner-overlay-end: #{color(banner-overlay-end, dark)};
  
  /* Variables contextuales navegación - tema oscuro */
  --color-nav-hamburger-default: #{color(nav-hamburger-default, dark)};
  --color-nav-hamburger-scrolled: #{color(nav-hamburger-scrolled, dark)};
  --color-nav-hamburger-active: #{color(nav-hamburger-active, dark)};
  --color-nav-link-default: #{color(nav-link-default, dark)};
  --color-nav-link-scrolled: #{color(nav-link-scrolled, dark)};
}

// =========================
// ESTADOS CONTEXTUALES
// =========================
// Clases que modifican las variables contextuales según el estado

// Cuando el header tiene scroll (fondo sólido) - estilos movidos a header.scss

// Cuando el menú móvil está activo (clase añadida por JavaScript)
body.menu-active {
  --nav-hamburger-color: var(--color-nav-hamburger-active);
}

// Clase helper para ocultar hamburguesa en desktop (desde 1200px)
@media (min-width: $breakpoint-lg) {
  .nav-toggle {
    display: none !important;
  }
}

// Animaciones fade-in
.fade-in {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s ease-out;
}

.fade-in.animate {
  opacity: 1;
  transform: translateY(0);
}



// Delays para animaciones secuenciales (solo cuando están en viewport)
.fade-in-delay-1 { transition-delay: 0.2s; }
.fade-in-delay-2 { transition-delay: 0.5s; }
.fade-in-delay-3 { transition-delay: 0.8s; }
.fade-in-delay-4 { transition-delay: 1.1s; }
.fade-in-delay-5 { transition-delay: 1.4s; }
.fade-in-delay-6 { transition-delay: 1.7s; }
.fade-in-delay-7 { transition-delay: 2s; }
.fade-in-delay-8 { transition-delay: 2.3s; }
.fade-in-delay-9 { transition-delay: 2.6s; }
.fade-in-delay-10 { transition-delay: 2.9s; }
.fade-in-delay-11 { transition-delay: 3.2s; }
.fade-in-delay-12 { transition-delay: 3.5s; }
.fade-in-delay-13 { transition-delay: 3.8s; }
.fade-in-delay-14 { transition-delay: 4.1s; }
.fade-in-delay-15 { transition-delay: 4.4s; }
.fade-in-delay-16 { transition-delay: 4.7s; }
.fade-in-delay-17 { transition-delay: 5s; }
.fade-in-delay-18 { transition-delay: 5.3s; }
.fade-in-delay-19 { transition-delay: 5.6s; }
.fade-in-delay-20 { transition-delay: 5.9s; }
.fade-in-delay-21 { transition-delay: 6.2s; }
.fade-in-delay-22 { transition-delay: 6.5s; }

// Animación especial para ServiceCard (efecto de carta cayendo)
.service-card.fade-in {
  opacity: 0;
  transform: translateY(50px) scale(0.95);
}

.service-card.fade-in.animate {
  opacity: 1;
  transform: translateY(0) scale(1);
  transition: opacity 0.6s ease-out, 
              transform 0.6s ease-out;
}

// Delays específicos para ServiceCards cuando se activa la animación
.service-card.fade-in-delay-2.animate { transition-delay: 0s; }
.service-card.fade-in-delay-3.animate { transition-delay: 0.3s; }
.service-card.fade-in-delay-4.animate { transition-delay: 0.6s; }
.service-card.fade-in-delay-5.animate { transition-delay: 0.9s; }

// Animación especial para specialty-item y tech-item (efecto de carta cayendo)
.specialty-item.fade-in,
.tech-item.fade-in {
  opacity: 0;
  transform: translateY(30px) scale(0.95);
}

.specialty-item.fade-in.animate,
.tech-item.fade-in.animate {
  opacity: 1;
  transform: translateY(0) scale(1);
  transition: opacity 0.5s ease-out, 
              transform 0.5s ease-out;
}

// Delays específicos para specialty-item cuando se activa la animación
.specialty-item.fade-in-delay-1.animate { transition-delay: 0s; }
.specialty-item.fade-in-delay-2.animate { transition-delay: 0.15s; }
.specialty-item.fade-in-delay-3.animate { transition-delay: 0.3s; }
.specialty-item.fade-in-delay-4.animate { transition-delay: 0.45s; }
.specialty-item.fade-in-delay-5.animate { transition-delay: 0.6s; }
.specialty-item.fade-in-delay-6.animate { transition-delay: 0.75s; }

// Delays específicos para tech-item cuando se activa la animación
.tech-item.fade-in-delay-1.animate { transition-delay: 0s; }
.tech-item.fade-in-delay-2.animate { transition-delay: 0.15s; }
.tech-item.fade-in-delay-3.animate { transition-delay: 0.3s; }
.tech-item.fade-in-delay-4.animate { transition-delay: 0.45s; }
.tech-item.fade-in-delay-5.animate { transition-delay: 0.6s; }
.tech-item.fade-in-delay-6.animate { transition-delay: 0.75s; }
.tech-item.fade-in-delay-7.animate { transition-delay: 0.9s; }
.tech-item.fade-in-delay-8.animate { transition-delay: 1.05s; }
.tech-item.fade-in-delay-9.animate { transition-delay: 1.2s; }

// Animación especial para workflow-item (círculos y contenidos)
.workflow-item.fade-in {
  opacity: 0;
  transform: translateY(30px) scale(0.95);
}

.workflow-item.fade-in.animate {
  opacity: 1;
  transform: translateY(0) scale(1);
  transition: opacity 0.6s ease-out, 
              transform 0.6s ease-out;
}

// Delays específicos para workflow-item cuando se activa la animación
.workflow-item.fade-in-delay-1.animate { transition-delay: 0s; }
.workflow-item.fade-in-delay-2.animate { transition-delay: 0.2s; }
.workflow-item.fade-in-delay-3.animate { transition-delay: 0.4s; }
.workflow-item.fade-in-delay-4.animate { transition-delay: 0.6s; }
.workflow-item.fade-in-delay-5.animate { transition-delay: 0.8s; }
.workflow-item.fade-in-delay-6.animate { transition-delay: 1s; }
.workflow-item.fade-in-delay-7.animate { transition-delay: 1.2s; }
.workflow-item.fade-in-delay-8.animate { transition-delay: 1.4s; }
.workflow-item.fade-in-delay-9.animate { transition-delay: 1.6s; }
.workflow-item.fade-in-delay-10.animate { transition-delay: 1.8s; }
.workflow-item.fade-in-delay-11.animate { transition-delay: 2s; }

// Animación especial para workflow-arrow (flechas entre círculos)
.workflow-arrow.fade-in {
  opacity: 0;
  transform: scale3d(0, 0, 1);
}

.workflow-arrow.fade-in.animate {
  opacity: 1;
  transform: scale3d(1, 1, 1);
  transition: opacity 0.4s ease-out, 
              transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); // Efecto elastic
}

// Delays específicos para workflow-arrow cuando se activa la animación
.workflow-arrow.fade-in-delay-2.animate { transition-delay: 0.2s; }
.workflow-arrow.fade-in-delay-4.animate { transition-delay: 0.6s; }
.workflow-arrow.fade-in-delay-6.animate { transition-delay: 1s; }

// Animación especial para plan-item (tarjetas de planes)
// Solo animar opacity, no tocar transform (el componente lo maneja)
.plan-card.plan-item.fade-in {
  opacity: 0;
}

.plan-card.plan-item.fade-in.animate {
  opacity: 1;
  transition: opacity 0.6s ease-out;
}

// Delays específicos para plan-item cuando se activa la animación
.plan-card.plan-item.fade-in-delay-3.animate { transition-delay: 0s; }
.plan-card.plan-item.fade-in-delay-4.animate { transition-delay: 0.3s; }
.plan-card.plan-item.fade-in-delay-5.animate { transition-delay: 0.6s; }

// Animación especial para contact-field (campos del formulario de contacto)
.contact-field.fade-in {
  opacity: 0;
  transform: translateY(20px);
}

.contact-field.fade-in.animate {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 0.6s ease-out, 
              transform 0.6s ease-out;
}

// Delays específicos para contact-field cuando se activa la animación
.contact-field.fade-in-delay-2.animate { transition-delay: 0s; }
.contact-field.fade-in-delay-3.animate { transition-delay: 0.2s; }
.contact-field.fade-in-delay-4.animate { transition-delay: 0.4s; }
.contact-field.fade-in-delay-5.animate { transition-delay: 0.6s; }
.contact-field.fade-in-delay-6.animate { transition-delay: 0.8s; }
